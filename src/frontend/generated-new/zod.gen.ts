// This file is auto-generated by @hey-api/openapi-ts

import { z } from 'zod';

export const zBestemmelseEllerGrunnlag = z.object({
    nøkkel: z.string(),
    beskrivelse: z.string(),
});

export const zError = z.object({
    message: z.string(),
});

export const zFritekst = z.string().min(3).max(3000);

export const zMuligeRettsligGrunnlag = z.object({
    bestemmelse: zBestemmelseEllerGrunnlag,
    grunnlag: z.array(zBestemmelseEllerGrunnlag),
});

export const zRettsligGrunnlag = z.object({
    bestemmelse: z.string().min(1),
    grunnlag: z.string().min(1),
});

export const zFaktaPeriode = z.object({
    id: z.string(),
    fom: z.iso.date(),
    tom: z.iso.date(),
    feilutbetaltBeløp: z.int(),
    splittbarePerioder: z.array(
        z.object({
            id: z.string(),
            fom: z.iso.date(),
            tom: z.iso.date(),
            feilutbetaltBeløp: z.int(),
            rettsligGrunnlag: z.array(zRettsligGrunnlag),
        })
    ),
    rettsligGrunnlag: z.array(zRettsligGrunnlag),
});

export const zOppdaterFaktaPeriode = z.object({
    id: z.string(),
    rettsligGrunnlag: z.array(zRettsligGrunnlag).min(1),
});

export const zAvEnum = z.enum(['NAV', 'BRUKER', 'IKKE_VURDERT']);

export const zOppdaget = z.object({
    dato: z.union([z.iso.date(), z.null()]),
    av: zAvEnum,
    beskrivelse: z.union([zFritekst, z.null()]),
});

export const zVurdering = z.object({
    årsak: z.union([zFritekst, z.null()]),
    oppdaget: z.optional(zOppdaget),
});

export const zOppdaterFaktaOmFeilutbetaling = z.object({
    perioder: z.optional(z.array(zOppdaterFaktaPeriode)),
    vurdering: z.optional(zVurdering),
});

export const zResultatEnum = z.enum(['INNVILGET', 'OPPHØRT']);

export const zRevurdering = z.object({
    årsak: z.string(),
    vedtaksdato: z.iso.date(),
    resultat: zResultatEnum,
});

export const zFeilutbetaling = z.object({
    beløp: z.int(),
    fom: z.iso.date(),
    tom: z.iso.date(),
    revurdering: zRevurdering,
});

export const zFaktaOmFeilutbetaling = z.object({
    feilutbetaling: zFeilutbetaling,
    tidligereVarsletBeløp: z.union([z.int(), z.null()]),
    muligeRettsligGrunnlag: z.array(zMuligeRettsligGrunnlag),
    perioder: z.array(zFaktaPeriode),
    vurdering: zVurdering,
    ferdigvurdert: z.boolean(),
});

export const zFaktaData = z.object({
    body: z.optional(z.never()),
    path: z.object({
        behandlingId: z.string(),
    }),
    query: z.optional(z.never()),
});

/**
 * The request has succeeded.
 */
export const zFaktaResponse = zFaktaOmFeilutbetaling;

export const zOppdaterFaktaData = z.object({
    body: zOppdaterFaktaOmFeilutbetaling,
    path: z.object({
        behandlingId: z.string(),
    }),
    query: z.optional(z.never()),
});

/**
 * The request has succeeded.
 */
export const zOppdaterFaktaResponse = zFaktaOmFeilutbetaling;
